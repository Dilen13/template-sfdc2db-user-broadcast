<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<mule-configuration xmlns="http://www.mulesoft.com/tooling/messageflow" name="test-flows.">
    <flow SubFlow="true" name="insertUserSalesforceSubFlow" type="http://www.mulesoft.org/schema/mule/core/subflow" entity-id="c589bea1-9873-4886-8468-1d4dfdcf4181">
        <properties>
            <property name="initialState"/>
            <property name="processingStrategy2"/>
            <property name="processingStrategy"/>
            <property name="bussinessEventsLabel"/>
            <property name="tracking:enable-default-events"/>
            <property name="auxiliary;index" value="1"/>
        </properties>
        <lane hadOnlyOneElement="false" index="0" isChoiceOtherwiseLane="false" entity-id="compartment-lane#1">
            <graphicalData x="0" y="0" width="0" height="0"/>
            <pattern name="Insert User" type="http://www.mulesoft.org/schema/mule/sfdc/sfdc-connector" entity-id="Salesforce#1">
                <graphicalData x="0" y="0" width="0" height="0"/>
                <properties>
                    <property name=""/>
                    <property name="proxyUsername"/>
                    <property name="securityToken"/>
                    <property name="proxyHost"/>
                    <property name="org.mule.tooling.ui.modules.core.widgets.meta.ModeAttribute" value="http://www.mulesoft.org/schema/mule/sfdc/upsert"/>
                    <property name="proxyPort"/>
                    <property name="type" value="User"/>
                    <property name="password"/>
                    <property name="url"/>
                    <property name="externalIdFieldName" value="Email"/>
                    <property name="username"/>
                    <property name="sessionId"/>
                    <property name="serviceEndpoint"/>
                    <property name="accessTokenId"/>
                    <property name="config-ref" value="SalesforceA"/>
                    <property name="proxyPassword"/>
                    <property name="auxiliary;index" value="2"/>
                    <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/upsert-objectss;0">
                        <property name="auxiliary;wrapIn" value="3"/>
                        <property name="auxiliary;index" value="3"/>
                        <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/upsert-objects;1">
                            <property name="auxiliary;wrapIn" value="4"/>
                            <property name="auxiliary;index" value="4"/>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;1">
<property name="value" value="#[payload.LocaleSidKey]"/>
<property name="auxiliary;wrapIn" value="5"/>
<property name="auxiliary;index" value="5"/>
<property name="key" value="LocaleSidKey"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;2">
<property name="value" value="#[payload.LastName]"/>
<property name="auxiliary;wrapIn" value="6"/>
<property name="auxiliary;index" value="6"/>
<property name="key" value="LastName"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;3">
<property name="value" value="#[payload.LanguageLocaleKey]"/>
<property name="auxiliary;wrapIn" value="7"/>
<property name="auxiliary;index" value="7"/>
<property name="key" value="LanguageLocaleKey"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;4">
<property name="value" value="#[payload.Email]"/>
<property name="auxiliary;wrapIn" value="8"/>
<property name="auxiliary;index" value="8"/>
<property name="key" value="Email"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;5">
<property name="value" value="#[payload.FirstName]"/>
<property name="auxiliary;wrapIn" value="9"/>
<property name="auxiliary;index" value="9"/>
<property name="key" value="FirstName"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;6">
<property name="value" value="#[payload.TimeZoneSidKey]"/>
<property name="auxiliary;wrapIn" value="10"/>
<property name="auxiliary;index" value="10"/>
<property name="key" value="TimeZoneSidKey"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;7">
<property name="value" value="#[payload.CommunityNickname]"/>
<property name="auxiliary;wrapIn" value="11"/>
<property name="auxiliary;index" value="11"/>
<property name="key" value="CommunityNickname"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;8">
<property name="value" value="#[payload.ProfileId]"/>
<property name="auxiliary;wrapIn" value="12"/>
<property name="auxiliary;index" value="12"/>
<property name="key" value="ProfileId"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;9">
<property name="value" value="#[payload.EmailEncodingKey]"/>
<property name="auxiliary;wrapIn" value="13"/>
<property name="auxiliary;index" value="13"/>
<property name="key" value="EmailEncodingKey"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;10">
<property name="value" value="#[payload.Alias]"/>
<property name="auxiliary;wrapIn" value="14"/>
<property name="auxiliary;index" value="14"/>
<property name="key" value="Alias"/>
                            </property-collection>
                            <property-collection name="@http://www.mulesoft.org/schema/mule/sfdc/inner-upsert-objects;11">
<property name="value" value="#[payload.Email]"/>
<property name="auxiliary;wrapIn" value="15"/>
<property name="auxiliary;index" value="15"/>
<property name="key" value="Username"/>
                            </property-collection>
                        </property-collection>
                    </property-collection>
                </properties>
            </pattern>
        </lane>
    </flow>
    <flow SubFlow="true" name="deleteUserDB" type="http://www.mulesoft.org/schema/mule/core/subflow" entity-id="71ed5ecc-0bf5-431d-b348-f81fac4ad7be">
        <properties>
            <property name="initialState"/>
            <property name="processingStrategy2"/>
            <property name="processingStrategy"/>
            <property name="bussinessEventsLabel"/>
            <property name="tracking:enable-default-events"/>
            <property name="auxiliary;index" value="16"/>
        </properties>
        <lane hadOnlyOneElement="false" index="0" isChoiceOtherwiseLane="false" entity-id="compartment-lane#2">
            <graphicalData x="0" y="0" width="0" height="0"/>
            <pattern name="Database" type="http://www.mulesoft.org/schema/mule/db/database-connector" entity-id="Database#1">
                <graphicalData x="0" y="0" width="0" height="0"/>
                <properties>
                    <property name="source" value=""/>
                    <property name="auxiliary;metatype-attribute" value="text"/>
                    <property name="updated"/>
                    <property name="statementFactory-ref" value=""/>
                    <property name="transactionalAction" value="JOIN_IF_POSSIBLE"/>
                    <property name="target" value=""/>
                    <property name="org.mule.tooling.ui.modules.core.widgets.meta.ModeAttribute" value="http://www.mulesoft.org/schema/mule/db/delete"/>
                    <property name="config-ref" value="GenericDatabaseConnectorMySql"/>
                    <property name="auxiliary;index" value="17"/>
                    <property name="bulkMode" value="false"/>
                    <property name="auxiliary;metametadataStrategy" value="new-database-dynamic-statement-metadata-strategy"/>
                    <property-collection name="@http://www.mulesoft.org/schema/mule/db/dynamic-query;0">
                        <property name="text" value="delete from sf_user where email = '#[payload.email]'"/>
                    </property-collection>
                </properties>
                <description></description>
            </pattern>
        </lane>
    </flow>
    <flow SubFlow="true" name="selectUserFromDB" type="http://www.mulesoft.org/schema/mule/core/subflow" entity-id="38fbac1c-3f42-4121-9b60-cbdc5bc86e87">
        <properties>
            <property name="initialState"/>
            <property name="processingStrategy2"/>
            <property name="processingStrategy"/>
            <property name="bussinessEventsLabel"/>
            <property name="tracking:enable-default-events"/>
            <property name="auxiliary;index" value="19"/>
        </properties>
        <lane hadOnlyOneElement="false" index="0" isChoiceOtherwiseLane="false" entity-id="compartment-lane#3">
            <graphicalData x="0" y="0" width="0" height="0"/>
            <pattern name="Database" type="http://www.mulesoft.org/schema/mule/db/database-connector" entity-id="Database#2">
                <graphicalData x="0" y="0" width="0" height="0"/>
                <properties>
                    <property name="streaming" value="false"/>
                    <property name="auxiliary;metatype-attribute" value="text"/>
                    <property name="source" value=""/>
                    <property name="updated"/>
                    <property name="statementFactory-ref" value=""/>
                    <property name="transactionalAction" value="JOIN_IF_POSSIBLE"/>
                    <property name="org.mule.tooling.ui.modules.core.widgets.meta.ModeAttribute" value="http://www.mulesoft.org/schema/mule/db/select"/>
                    <property name="target" value=""/>
                    <property name="auxiliary;erased;maxRows" value="true"/>
                    <property name="maxRows" value=""/>
                    <property name="config-ref" value="GenericDatabaseConnectorMySql"/>
                    <property name="auxiliary;index" value="20"/>
                    <property name="auxiliary;metametadataStrategy" value="new-database-metadata-strategy"/>
                    <property-collection name="@http://www.mulesoft.org/schema/mule/db/in-param;0">
                        <property name="name" value="paramEmail"/>
                        <property name="value" value="#[message.payload['Email']]"/>
                        <property name="auxiliary;wrapIn" value="22"/>
                    </property-collection>
                    <property-collection name="@http://www.mulesoft.org/schema/mule/db/template-query-ref;0">
                        <property name="name" value="QueryUserByEmail"/>
                    </property-collection>
                </properties>
                <description></description>
            </pattern>
        </lane>
    </flow>
    <description></description>
</mule-configuration>
